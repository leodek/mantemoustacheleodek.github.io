<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="robots" content="index, follow" />
  <title>ManteMoustache ‚Äî Soluciones Industriales y Mantenimiento</title>
  <meta name="description" content="ManteMoustache: soluciones digitales para gesti√≥n industrial, equipos, OTs/OPs e insumos." />
  <link rel="canonical" href="https://www.mantemoustache.com/" />
  <link rel="icon" href="/favicon.ico" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{--bg:#0A192F;--panel:#0F1E3A;--panel-2:#112240;--text:#E6F1FF;--muted:#8892B0;--accent:#FFD700;--shadow:rgba(0,0,0,.5);--ring:rgba(255,215,0,.25)}
    *{box-sizing:border-box} html,body{margin:0;padding:0}
    body{font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--text);min-height:100vh;display:flex;flex-direction:column;line-height:1.6}

    header{background:var(--panel);border-bottom:1px solid #0e1a31;position:sticky;top:0;z-index:50}
    .wrap{max-width:1200px;margin:0 auto;padding:0 20px}
    .topbar{display:flex;align-items:center;justify-content:space-between;height:74px}
    .brand{display:flex;align-items:center;gap:12px;text-decoration:none}
    .brand img{height:56px;filter:drop-shadow(0 2px 6px var(--shadow))}
    .brand-title{font-weight:700;color:var(--text);font-size:1.1rem}
    nav a{color:var(--text);text-decoration:none;font-weight:600;margin-left:22px;padding:8px 10px;border-radius:8px;transition:.2s}
    nav a:hover{color:var(--accent);background:rgba(255,215,0,.08)}

    .hero{background:linear-gradient(180deg,var(--panel) 0%,var(--panel-2) 100%);border-bottom:1px solid #0e1a31}
    .hero-grid{display:grid;grid-template-columns:1.05fr .95fr;gap:40px;align-items:center;padding:64px 20px;max-width:1200px;margin:0 auto}
    .hero-kicker{color:var(--accent);font-weight:700;letter-spacing:.12em;font-size:.9rem;text-transform:uppercase}
    .hero h1{font-size:clamp(2.2rem,4vw,3.2rem);line-height:1.15;margin:.6rem 0 1rem}
    .hero p{color:var(--muted);font-size:1.15rem;max-width:48ch}
    .cta{display:flex;gap:14px;flex-wrap:wrap;margin-top:24px}
    .btn{display:inline-block;font-weight:700;padding:12px 20px;border-radius:10px;border:2px solid transparent;text-decoration:none;transition:.25s;box-shadow:0 6px 18px -8px var(--shadow)}
    .btn-primary{background:var(--accent);color:#08142b}.btn-primary:hover{transform:translateY(-1px)}
    .btn-ghost{color:var(--accent);border-color:var(--accent);background:transparent}.btn-ghost:hover{background:rgba(255,215,0,.08)}

    .hero-illu{display:flex;align-items:center;justify-content:center}
    .frame{background:rgba(8,20,43,.6);border:1px solid #0e1a31;border-radius:20px;padding:18px;box-shadow:0 16px 40px -20px var(--shadow),0 0 0 6px var(--ring);max-width:640px;width:100%;overflow:hidden}
    .slide-stack{position:relative;width:100%;height:520px !important}
    .slide{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity 600ms ease}
    .slide img{width:100% !important;height:100% !important;max-height:none !important;object-fit:contain !important;border-radius:14px;display:block;background:#fff}
    .slide.active{opacity:1}

    /* Botones del carrusel */
    .nav-btn{
      position:absolute; top:50%; transform:translateY(-50%);
      width:42px; height:42px; border-radius:50%;
      border:1px solid rgba(255,255,255,.35);
      background:rgba(8,20,43,.55); color:#fff; backdrop-filter: blur(6px);
      display:flex; align-items:center; justify-content:center;
      cursor:pointer; user-select:none;
      box-shadow:0 6px 18px -10px var(--shadow);
      transition:background .2s, transform .1s;
    }
    .nav-btn:hover{ background:rgba(8,20,43,.75) }
    .nav-btn:active{ transform:translateY(-50%) scale(.98) }
    .nav-prev{ left:8px }
    .nav-next{ right:8px }
    .nav-btn svg{ width:20px; height:20px }

    section{padding:64px 20px}
    h2{text-align:center;color:var(--accent);font-size:clamp(1.6rem,2.5vw,2rem);margin-bottom:10px}
    .section-sub{text-align:center;color:var(--muted);margin:0 auto 26px;max-width:70ch}
    .cards{display:grid;grid-template-columns:repeat(2,minmax(260px,1fr));gap:22px;max-width:1000px;margin:26px auto 0}
    .card{background:var(--panel);border:1px solid #0e1a31;border-radius:14px;padding:22px;box-shadow:0 8px 28px -18px var(--shadow);transition:transform .2s,box-shadow .2s}
    .card:hover{transform:translateY(-3px)}
    .download{background:linear-gradient(180deg,var(--panel-2) 0%,var(--panel) 100%);border-top:1px solid #0e1a31;border-bottom:1px solid #0e1a31}
    footer{background:var(--panel);border-top:1px solid #0e1a31;color:var(--muted);margin-top:auto}
    .footer-inner{max-width:900px;margin:0 auto;padding:36px 20px;text-align:center}
    footer a{color:var(--accent)}
    @media (max-width:980px){.hero-grid{grid-template-columns:1fr;gap:28px}.cards{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <header>
    <div class="wrap topbar">
      <a class="brand" href="/" aria-label="Ir al inicio">
        <img src="/splash.png" alt="ManteMoustache logo" />
        <span class="brand-title">ManteMoustache</span>
      </a>
      <nav role="navigation" aria-label="Principal">
        <a href="#about">Sobre Nosotros</a>
        <a href="#download">Descarga</a>
        <a href="#contact">Contacto</a>
      </nav>
    </div>
  </header>

  <section class="hero">
    <div class="hero-grid">
      <div>
        <div class="hero-kicker">Soluciones Industriales</div>
        <h1>Gesti√≥n de equipos, OTs/OPs e insumos ‚Äî simple, r√°pida y profesional</h1>
        <p>ManteMoustache acelera la digitalizaci√≥n del mantenimiento en PYMEs industriales. Inventari√° equipos, program√° preventivos, gener√° OTs autom√°ticas y control√° insumos en un solo lugar.</p>
        <div class="cta">
          <a class="btn btn-primary" href="/tienda.html">Ver productos</a>
          <a class="btn btn-ghost" href="#about">C√≥mo funciona</a>
        </div>
      </div>

      <div class="hero-illu">
        <div class="frame">
          <div class="slide-stack" id="heroStack">
            <div class="slide active"><img alt="Imagen industrial" /></div>
            <div class="slide"><img alt="Imagen industrial" /></div>

            <!-- Botones -->
            <button class="nav-btn nav-prev" id="prevBtn" aria-label="Imagen anterior" title="Anterior">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M15 18l-6-6 6-6"/>
              </svg>
            </button>
            <button class="nav-btn nav-next" id="nextBtn" aria-label="Imagen siguiente" title="Siguiente">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M9 6l6 6-6 6"/>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="about" class="wrap">
    <h2>Sobre Nosotros</h2>
    <p class="section-sub">Empresa uruguaya enfocada en herramientas simples y robustas para mantenimiento industrial. Liderado por Pablo Rivero (Tecn√≥logo Industrial Mec√°nico), combinamos experiencia de planta con software moderno.</p>
    <div class="cards">
      <div class="card"><h3>üõ†Ô∏è Listado de Equipos</h3><p>Registro, clasificaci√≥n y seguimiento del estado, con trazabilidad t√©cnica e im√°genes por equipo.</p></div>
      <div class="card"><h3>üì¶ Listado de Insumos</h3><p>Stock, movimientos y alertas de m√≠nimos, integrado al flujo de OTs y responsables.</p></div>
    </div>
  </section>

  <section id="download" class="download">
    <div class="wrap">
      <h2>Descarga</h2>
      <p class="section-sub">Pr√≥ximamente publicaremos instaladores y documentaci√≥n. Si quer√©s enterarte primero, escribinos a <a href="mailto:mantemoustache@gmail.com">mantemoustache@gmail.com</a>.</p>
      <div style="text-align:center;margin-top:14px;"><a class="btn btn-primary" href="#contact">Quiero recibir novedades</a></div>
    </div>
  </section>

  <footer id="contact">
    <div class="footer-inner">
      <p>Contacto: Pablo Rivero</p>
      <p>Email: <a href="mailto:mantemoustache@gmail.com">mantemoustache@gmail.com</a></p>
      <p>Tel√©fono: <a href="tel:+59898153659">+598 981 536 59</a></p>
      <p>&copy; <span id="year"></span> ManteMoustache. Todos los derechos reservados.</p>
    </div>
  </footer>

  <script>
    // A√±o y smooth scroll
    const y = document.getElementById('year'); if (y) y.textContent = new Date().getFullYear();
    document.querySelectorAll('a[href^="#"]').forEach(a=>{
      a.addEventListener('click', e=>{
        const el = document.querySelector(a.getAttribute('href')); if(!el) return;
        e.preventDefault(); el.scrollIntoView({behavior:'smooth'});
      });
    });

    // ===== Configuraci√≥n carrusel =====
    const INTERVAL_MS = 5000; // <-- cambia aqu√≠ los segundos (5000 = 5s)
    const stack  = document.getElementById('heroStack');
    const slides = stack.querySelectorAll('.slide');
    const imgA   = slides[0].querySelector('img');
    const imgB   = slides[1].querySelector('img');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');

    let urls = [];
    let idx  = 0;    // √≠ndice de la pr√≥xima imagen a mostrar
    let useA = true; // alterna cu√°l layer est√° visible
    let timer = null;

    // cache-buster para evitar SW/cach√©
    const cb = () => `?cb=${Date.now()}`;

    function preload(src){
      return new Promise((resolve, reject)=>{
        const i = new Image();
        i.onload = ()=>resolve(src);
        i.onerror = reject;
        i.src = src;
      });
    }

    // Detectar im√°genes en /fotos/ (robusto)
    async function listByProbing(){
      const exts = ["jpg","jpeg","png","webp","gif"];
      const extsAll = [...exts, ...exts.map(e=>e.toUpperCase())];
      const candidates = new Set();

      for(let n=1; n<=200; n++){
        const z = String(n).padStart(2,"0");
        for(const ext of extsAll){
          candidates.add(`/fotos/${z}.${ext}`);
          candidates.add(`/fotos/${n}.${ext}`);
        }
      }
      const base = ["hero","portada","planta","equipo","maquinaria","industrial"];
      const namesAll = [...base, ...base.map(s=>s.toUpperCase())];
      for(const name of namesAll){
        for(const ext of extsAll){
          candidates.add(`/fotos/${name}.${ext}`);
        }
      }

      const found = [];
      await Promise.allSettled(
        [...candidates].map(src => preload(src + cb()).then(()=>found.push(src)))
      );
      found.sort((a,b)=>a.localeCompare(b, undefined, {numeric:true, sensitivity:"base"}));
      return found;
    }

    function show(url){
      // alterna entre las dos capas para hacer fade
      const target = useA ? imgB : imgA;
      const showSlide = useA ? 1 : 0;
      const hideSlide = useA ? 0 : 1;

      target.src = url;
      slides[showSlide].classList.add('active');
      slides[hideSlide].classList.remove('active');

      useA = !useA;
    }

    function nextSlide(){
      if(!urls.length) return;
      const nextUrl = urls[idx % urls.length] + cb();
      preload(nextUrl).finally(()=>{
        show(nextUrl);
        idx++;
      });
    }

    function prevSlide(){
      if(!urls.length) return;
      idx = (idx - 2 + urls.length) % urls.length; // retrocede uno (ajustando porque nextSlide incrementa)
      const url = urls[idx % urls.length] + cb();
      preload(url).finally(()=>{
        show(url);
        idx++;
      });
    }

    function startAuto(){
      stopAuto();
      timer = setInterval(nextSlide, INTERVAL_MS);
    }
    function stopAuto(){
      if(timer){ clearInterval(timer); timer = null; }
    }

    // Init
    (async function init(){
      // Mostrar algo de entrada (si existe)
      imgA.src = "/fotos/01.jpg" + cb();
      slides[0].classList.add('active');

      urls = await listByProbing();
      if(!urls.length){
        console.warn("No se encontraron im√°genes en /fotos/. Dej√° al menos 2 para ver la rotaci√≥n.");
        urls = ["/fotos/01.jpg"]; // mantiene una sola si es lo que hay
      }
      // arranca desde la segunda si hay varias
      idx = Math.min(1, urls.length-1);

      // Reemplaza la primera por la detectada
      if(urls[0]) imgA.src = urls[0] + cb();

      // Eventos botones
      nextBtn.addEventListener('click', ()=>{ nextSlide(); startAuto(); });
      prevBtn.addEventListener('click', ()=>{ prevSlide(); startAuto(); });

      // Pausar en hover para mejor UX
      stack.addEventListener('mouseenter', stopAuto);
      stack.addEventListener('mouseleave', startAuto);

      if(urls.length > 1) startAuto();

      console.log(`[Carrusel] Detectadas ${urls.length}:`, urls);
      console.log(`[Carrusel] Autoplay: cada ${INTERVAL_MS/1000}s`);
    })();
  </script>
</body>
</html>
